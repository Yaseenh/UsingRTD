

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Session Management &mdash; myTry 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="myTry 1.0 documentation" href="../../../index.html"/>
        <link rel="next" title="6. Webhook Payloads" href="../../web-hooks/payloads.html"/>
        <link rel="prev" title="4. Import" href="../../integration/import.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> myTry
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../newAmend.html">1. New Addition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loads/active-load.html">2. Active Load</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../blob-storage/blob-storage.html">3. Blob Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integration/import.html">4. Import</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Session Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#retrieve-an-active-session">5.1. Retrieve an active session</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-session">5.2. Creating a session</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revoking-a-session">5.3. Revoking a session</a></li>
<li class="toctree-l2"><a class="reference internal" href="#closing-a-session">5.4. Closing a session</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web-hooks/payloads.html">6. Webhook Payloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../webhooks/web-hooks.html">7. Webhooks</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">myTry</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>5. Session Management</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/loads/drivers/sessions/session-management.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="session-management">
<h1>5. Session Management<a class="headerlink" href="#session-management" title="Permalink to this headline">¶</a></h1>
<p>A driver must obtain a session before being able to perform any actions on the api. The session is used to bind the driver, asset and device together so the system knows Which device is being used to track which driver and asset.</p>
<div class="section" id="retrieve-an-active-session">
<h2>5.1. Retrieve an active session<a class="headerlink" href="#retrieve-an-active-session" title="Permalink to this headline">¶</a></h2>
<p><code class="code docutils literal"><span class="pre">GET</span> <span class="pre">/{organisationId}/sessions</span></code> can be used to retrieve an active session. If no active session exists a 404 result will be returned. Your app shoud check for an active session before trying to create a new one.</p>
</div>
<div class="section" id="creating-a-session">
<h2>5.2. Creating a session<a class="headerlink" href="#creating-a-session" title="Permalink to this headline">¶</a></h2>
<p>The following api call will allow you to create a new session which binds the currently logged in user to the asset and device provided. Any attempt to create a new session with any combination of the below will cause an error to be thrown.</p>
<div class="highlight-C#"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="p">/{</span><span class="n">organiastionId</span><span class="p">}/</span><span class="n">sessions</span>

<span class="p">{</span>
   <span class="s">&quot;asset_id&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
   <span class="s">&quot;device_id&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="revoking-a-session">
<h2>5.3. Revoking a session<a class="headerlink" href="#revoking-a-session" title="Permalink to this headline">¶</a></h2>
<p>If a session was created by mistake or the driver wishes to manually release the session you can do this via the following api call. A reason for revoking the session must be provided.</p>
<div class="highlight-C#"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="p">/{</span><span class="n">organiastionId</span><span class="p">}/</span><span class="n">sessions</span><span class="p">{</span><span class="n">sessionId</span><span class="p">}/</span><span class="n">revoke</span>

<span class="p">{</span>
   <span class="s">&quot;reason&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="closing-a-session">
<h2>5.4. Closing a session<a class="headerlink" href="#closing-a-session" title="Permalink to this headline">¶</a></h2>
<p>A session shoud be closed only once all data has been flushed from the store and forward mechanism. Closing a session before that could result in data loss.</p>
<p><code class="code docutils literal"><span class="pre">PUT</span> <span class="pre">/{organiastionId}/sessions{sessionId}/close</span></code></p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../web-hooks/payloads.html" class="btn btn-neutral float-right" title="6. Webhook Payloads" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../integration/import.html" class="btn btn-neutral" title="4. Import" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Yaseen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>